<section class="doc-section">

<h1>Advanced Usage</h1>

<p class="lead">
  This section covers advanced configuration scenarios and extension points.
  It assumes you are already familiar with Lianaâ€™s basic concepts and APIs.
</p>


<h2>Multiple resource providers</h2>

<p>
  Liana allows you to compose multiple resource providers to load configuration
  from different sources.
</p>

<pre><code class="language-java">
ConfigurationManager manager = ConfigurationManager.builder()
  .addProvider(new ClasspathProvider())
  .addProvider(new FileSystemProvider("/etc/app"))
  .build();
</code></pre>

<p>
  Providers are queried in the order they are registered. The first matching
  value wins.
</p>

<h2>Custom resource providers</h2>

<p>
  You can implement your own provider by extending the
  <code>ResourceProvider</code> interface.
</p>

<pre><code class="language-java">
public class DatabaseProvider implements ResourceProvider {

  @Override
  public Optional<String> load(String key) {
    return database.findValue(key);
  }
}
</code></pre>

<p>
  This enables integration with databases, secrets managers, or remote services.
</p>

<h2>Custom loaders</h2>

<p>
  Loaders are responsible for transforming raw data into structured values.
  Liana provides default loaders, but custom ones can be added.
</p>

<pre><code class="language-java">
public class YamlLoader implements ResourceLoader {

  @Override
  public Map<String, Object> load(InputStream input) {
    return yaml.parse(input);
  }
}
</code></pre>

<p>
  Custom loaders are useful when working with non-standard formats.
</p>

<h2>Environment-based configuration</h2>

<p>
  Liana supports environment-aware configuration without framework coupling.
</p>

<pre><code class="language-bash">
export LIANA_PROFILE=production
</code></pre>

<p>
  When a profile is active, Liana will attempt to resolve configuration files
  using the profile name before falling back to defaults.
</p>

<h2>Immutability and thread safety</h2>

<p>
  Once built, a <code>Liana</code> instance is immutable and thread-safe.
  This allows safe reuse across the application lifecycle.
</p>

<h2>When to use advanced features</h2>

<ul>
  <li>Multiple configuration sources</li>
  <li>Non-file-based configuration</li>
  <li>Strict startup validation</li>
  <li>Library or framework integration</li>
</ul>

  <p class="next-step">
    Next, learn how Liana maps configuration directly into Java objects in
    <a href="#pojo" data-section="pojo">POJO Mapping</a>.
  </p>

</section>